{% extends 'base.html.twig' %}

{% block title %} {{ title }} {% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="example-wrapper">
    <h1>{{ title }}</h1>

    <definitions>
    <table>
        <thead>
            <tr>
                <th>N°</th>
                <th>Définition</th>
            </tr>
        </thead>
        <tbody>
            {% set i = 1 %}
            {% for def in content.defs %}
                <tr>
                    <td>{{ i }}</td>
                    <td>{{ def.def }}
                    {% for ex in def.examples %}
                        <br/><small><i>{{ ex }}</i></small>
                    {% endfor %}
                    </td>
                </tr>
                {% set i = i + 1 %}
            {% endfor %}
        </tbody>
    </table>
    </definitions>

    <h2>Relations</h2>
    <relations>
        <p>affichage de debug, sera remplacé par des boutons et du JS</p>
        <table>
            <thead>
                <tr>
                    <th>Nom relation</th>
                    <th>Noeud entrant</th>
                    <th>Noeud sortant</th>
                    <th>Poids</th>
                </tr>
            </thead>
            <tbody>
            {% for r in content.relations %}
                <tr>
                    <td>{{ r.id }}</td>
                    {% for e in r.entries %}
                        <td>{{ e.nodeIn }}</td>
                        <td>{{ e.nodeOut }}</td>
                        <td>{{ e.weight }}</td>
                    {% endfor %}
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </relations>
</div>
{% endblock %}
